export const translations = {
  en: {
    // Main Menu
    mainMenu: {
      title: "Little Lies",
      newGame: "New Game",
      joinGame: "Join Game", 
      settings: "Settings",
      store: "Store",
      leaderboard: "Leaderboard",
      quit: "Quit"
    },
    
    // Settings
    settings: {
      title: "Settings",
      playerName: "Player Name",
      profileImage: "Profile Image",
      guestMode: "Guest Mode",
      language: "Language",
      back: "Back",
      save: "Save",
      uploadImage: "Upload Image",
      defaultAvatar: "Use Default Avatar"
    },

    // Create Game
    createGame: {
      title: "Create Game",
      gameName: "Game Name",
      gameCode: "Game Code",
      generate: "Generate Code",
      selectPacks: "Select Question Packs",
      language: "Language",
      numberOfQuestions: "Number of Questions",
      createRoom: "Create Room",
      back: "Back"
    },

    // Join Game
    joinGame: {
      title: "Join Game",
      enterCode: "Enter Game Code",
      join: "Join",
      back: "Back",
      invalidCode: "Invalid game code"
    },

    // Waiting Room
    waitingRoom: {
      title: "Waiting Room",
      gameCode: "Game Code",
      players: "Players",
      startGame: "Start Game",
      kickPlayer: "Kick",
      leaveGame: "Leave Game",
      waitingForPlayers: "Waiting for other players...",
      soloWarning: "You're about to start the game alone. Are you sure?"
    },

    // Game
    game: {
      round: "Round",
      question: "Question",
      submitAnswer: "Submit Fake Answer",
      yourAnswer: "Your Answer",
      selectAnswer: "Select Your Answer",
      vote: "Vote",
      cannotVoteOwn: "You cannot vote for your own answer",
      correctAnswer: "Correct Answer",
      results: "Results",
      scores: "Scores",
      nextRound: "Next Round",
      endGame: "End Game",
      winner: "Winner",
      playAgain: "Play Again",
      newPack: "Choose New Pack",
      mainMenu: "Main Menu"
    },

    // Store
    store: {
      title: "Store",
      questionPacks: "Question Packs",
      free: "Free",
      premium: "Premium",
      preview: "Preview",
      buy: "Buy",
      download: "Download",
      owned: "Owned",
      back: "Back"
    },

    // Leaderboard
    leaderboard: {
      title: "Leaderboard",
      weekly: "Weekly",
      monthly: "Monthly",
      allTime: "All Time",
      rank: "Rank",
      player: "Player",
      score: "Score",
      guest: "Guest",
      back: "Back"
    },

    // Question Packs
    packs: {
      popCulture: "Pop Culture",
      travelPlaces: "Travel & Places", 
      impossible: "Impossible Questions",
      trollCorner: "Troll Corner",
      grandparents: "For Playing with Grandparents"
    },

    // Common
    common: {
      loading: "Loading...",
      error: "Error",
      retry: "Retry",
      confirm: "Confirm",
      cancel: "Cancel",
      yes: "Yes",
      no: "No",
      ok: "OK"
    }
  },

  es: {
    // Main Menu
    mainMenu: {
      title: "Pequeñas Mentiras",
      newGame: "Nueva Partida",
      joinGame: "Unirse a Partida",
      settings: "Configuración",
      store: "Tienda",
      leaderboard: "Clasificación",
      quit: "Salir"
    },

    // Settings  
    settings: {
      title: "Configuración",
      playerName: "Nombre del Jugador",
      profileImage: "Imagen de Perfil",
      guestMode: "Modo Invitado",
      language: "Idioma",
      back: "Volver",
      save: "Guardar",
      uploadImage: "Subir Imagen",
      defaultAvatar: "Usar Avatar por Defecto"
    },

    // Create Game
    createGame: {
      title: "Crear Partida",
      gameName: "Nombre de la Partida",
      gameCode: "Código de Partida",
      generate: "Generar Código",
      selectPacks: "Seleccionar Paquetes de Preguntas",
      language: "Idioma",
      numberOfQuestions: "Número de Preguntas",
      createRoom: "Crear Sala",
      back: "Volver"
    },

    // Join Game
    joinGame: {
      title: "Unirse a Partida",
      enterCode: "Introducir Código de Partida",
      join: "Unirse",
      back: "Volver",
      invalidCode: "Código de partida inválido"
    },

    // Waiting Room
    waitingRoom: {
      title: "Sala de Espera",
      gameCode: "Código de Partida",
      players: "Jugadores",
      startGame: "Comenzar Partida",
      kickPlayer: "Expulsar",
      leaveGame: "Salir de la Partida",
      waitingForPlayers: "Esperando otros jugadores...",
      soloWarning: "Estás a punto de comenzar el juego solo. ¿Estás seguro?"
    },

    // Game
    game: {
      round: "Ronda",
      question: "Pregunta",
      submitAnswer: "Enviar Respuesta Falsa",
      yourAnswer: "Tu Respuesta",
      selectAnswer: "Selecciona tu Respuesta",
      vote: "Votar",
      cannotVoteOwn: "No puedes votar por tu propia respuesta",
      correctAnswer: "Respuesta Correcta",
      results: "Resultados",
      scores: "Puntuaciones",
      nextRound: "Siguiente Ronda",
      endGame: "Terminar Partida",
      winner: "Ganador",
      playAgain: "Jugar de Nuevo",
      newPack: "Elegir Nuevo Paquete",
      mainMenu: "Menú Principal"
    },

    // Store
    store: {
      title: "Tienda",
      questionPacks: "Paquetes de Preguntas",
      free: "Gratis",
      premium: "Premium",
      preview: "Vista Previa",
      buy: "Comprar",
      download: "Descargar",
      owned: "Poseído",
      back: "Volver"
    },

    // Leaderboard
    leaderboard: {
      title: "Clasificación",
      weekly: "Semanal",
      monthly: "Mensual",
      allTime: "Histórica",
      rank: "Posición",
      player: "Jugador",
      score: "Puntuación",
      guest: "Invitado",
      back: "Volver"
    },

    // Question Packs
    packs: {
      popCulture: "Cultura Popular",
      travelPlaces: "Viajes y Lugares",
      impossible: "Preguntas Impossibles",
      trollCorner: "Rincón del Troll",
      grandparents: "Para Jugar con los Abuelos"
    },

    // Common
    common: {
      loading: "Cargando...",
      error: "Error",
      retry: "Reintentar",
      confirm: "Confirmar",
      cancel: "Cancelar",
      yes: "Sí",
      no: "No",
      ok: "OK"
    }
  }
};

export type Language = 'en' | 'es';
export type TranslationKey = keyof typeof translations.en;

class I18nManager {
  private currentLanguage: Language = 'en';
  
  constructor() {
    // Load saved language from localStorage
    const savedLang = localStorage.getItem('littleLiesLanguage') as Language;
    if (savedLang && translations[savedLang]) {
      this.currentLanguage = savedLang;
    }
  }

  setLanguage(lang: Language) {
    this.currentLanguage = lang;
    localStorage.setItem('littleLiesLanguage', lang);
  }

  getLanguage(): Language {
    return this.currentLanguage;
  }

  t(key: string): string {
    const keys = key.split('.');
    let value: any = translations[this.currentLanguage];
    
    for (const k of keys) {
      value = value?.[k];
      if (!value) break;
    }
    
    return value || key;
  }
}

export const i18n = new I18nManager();